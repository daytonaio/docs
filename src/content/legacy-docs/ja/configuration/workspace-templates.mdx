---
title: ワークスペーステンプレート
description: 複数のワークスペース間でワークスペーステンプレートを管理し、再利用する方法を学びます。
---

import Label from '@components/Label.astro'

<Label>
  配布形態: **オープンソース**
</Label>

ワークスペーステンプレートは、開発環境の管理を簡素化するために設計されており、あらかじめ設定を定義しておくことで、新しいワークスペースに簡単に適用できるようになります。

ワークスペーステンプレートには、ワークスペース内でワークスペースを定義・管理するために必要なすべてのプロパティが含まれています。リポジトリのURL、ビルド構成、環境変数などの情報を保存します。これにより、以前に設定したテンプレートを簡単に再利用でき、複数のワークスペースで一貫性のある再現可能なセットアップを実現できます。

ワークスペーステンプレートは、ワークスペースのセットアップに必要なすべての要素をまとめています。主な内容は以下の通りです。

- **リポジトリURL**

   ワークスペースに関連付けられたGitリポジトリのURLです。

- **ビルド構成**

   [自動](/docs/ja/usage/builders#automatic) は、ワークスペースに最適なビルダーを自動検出します。

   [Devcontainer](/docs/ja/usage/builders#dev-container) は、`devcontainer.json` ファイルで指定された事前定義済みの開発コンテナを利用します。

   [カスタムイメージ](/docs/ja/usage/builders#custom-image) は、カスタムベースコンテナを指定してワークスペースイメージをビルドします。

   [なし](/docs/ja/usage/builders#none) は、デフォルトのベースイメージ（`daytonaio/workspace-project`）を使用してワークスペースをビルドします。

- **環境変数**

   環境変数は `KEY=VALUE` 形式で指定します。これらの変数はワークスペースのビルドおよび実行環境に不可欠です。変数を直接設定することも、実行時にマシンの環境から渡すこともできます。

- **ワークスペーステンプレート名**

   システム内で他のテンプレートと区別するための、ワークスペーステンプレートの一意の識別子です。

`daytona workspace-template` コマンドを使用すると、ワークスペーステンプレートの追加、表示、更新、一覧表示、デフォルト設定、削除が可能になり、異なるワークスペース間でテンプレートやワークスペースセットアップの再利用を完全にコントロールできます。

## ワークスペーステンプレートの作成

Daytona では、ワークスペーステンプレートを追加するオプションが用意されており、複数のワークスペース間でワークスペースのプロパティを保存し再利用することができます。

1. 次のコマンドを実行してワークスペーステンプレートを追加します。

```shell
daytona workspace-template add
```

2. ワークスペーステンプレートを作成するために用意された2つのオプションのいずれかを選択します。

- **カスタムリポジトリURLを入力**

   リポジトリがGitプロバイダーアカウントに表示されていない場合や外部ソースの場合に、カスタムリポジトリURLを手動で入力するオプションです。

- **サンプルから作成**

   まだGitリポジトリが用意できていない場合は、Daytonaが提供するサンプルプロジェクトからワークスペーステンプレートを作成できます。

3. 設定したいワークスペースのリポジトリURLを入力するか、サンプルプロジェクトからワークスペーステンプレートを作成するオプションを選択します。

```text
Git repository
>
```

4. ワークスペーステンプレートの名前を入力します。

```text
Name
>
```

5. ワークスペースのビルド構成を選択します。

```text
Choose a build configuration
Automatic
Devcontainer
Custom image
None
```

6. ワークスペースの環境変数を **`KEY=VALUE`** 形式で入力します。

```text
Environment Variables
Enter environment variables in the format KEY=VALUE
To pass machine env variables at runtime, use $VALUE
```

完了すると、Daytona はワークスペーステンプレートの概要を出力し、保存前にプロパティを確認できるようになります。

```text
SUMMARY - Workspace Template

Workspace - MyWorkspace
Repository  https://github.com/daytonaio/docs
Branch      main 
Build       Automatic
Image       daytonaio/workspace-project:latest
User        daytona
```

7. **`Create`** をクリックしてワークスペーステンプレートを保存するか、**`Configure`** をクリックしてワークスペーステンプレートを変更します。

```text
Workspace template <workspace_template> added successfully
```

## ワークスペーステンプレートの一覧

Daytona では、すべてのワークスペーステンプレートを一覧表示するオプションが用意されており、各テンプレートに保存されているプロパティの概要を確認できます。

1. 次のコマンドを実行して、すべてのワークスペーステンプレートを一覧表示します。

```shell
daytona workspace-template list
```

このコマンドを実行すると、Daytona はワークスペーステンプレートの一覧を表示します。ワークスペーステンプレート名、接続されているリポジトリのURL、ビルド構成、デフォルトテンプレートとして設定されているかどうかを確認できます。

```text
Name                 Repository           Build            Default
────────────────────────────────────────────────────────────────────
MyWorkspaceConfig    daytonaio/daytona    Devcontainer     Yes
```

## ワークスペーステンプレートの更新

Daytona では、既存のワークスペーステンプレートを更新するオプションが用意されており、その中に保存されているプロパティを変更できます。

1. ワークスペーステンプレートを更新するには、次のコマンドを実行します。

```shell
daytona workspace-template update
```

2. 更新したいワークスペーステンプレートを選択します。

```text
更新するワークスペーステンプレートを選択してください
1 item
MyWorkspaceTemplate
https://github.com/username/MyWorkspace
```

```text
ワークスペーステンプレートが正常に更新されました
```

## ワークスペーステンプレートの削除

Daytona では、既存のワークスペーステンプレートを削除するオプションが用意されており、不要になったプロパティを削除できます。

1. ワークスペーステンプレートを削除するには、次のコマンドを実行します。

```shell
daytona workspace-template delete
```

2. 削除したいワークスペーステンプレートを選択します。

```text
削除するワークスペーステンプレートを選択
1 item
MyWorkspaceTemplate
https://github.com/username/repository
```

```text
ワークスペーステンプレートが正常に削除されました
```

## ワークスペーステンプレート情報

Daytona では、ワークスペーステンプレートの詳細情報を表示するオプションが用意されており、テンプレート内に保存されているプロパティの概要を確認できます。

1. 次のコマンドを実行して、ワークスペーステンプレートの詳細を表示します。

```shell
daytona workspace-template info
```

このコマンドを実行すると、Daytona はあなたのワークスペーステンプレートの一覧を表示します。

2. 表示したいワークスペーステンプレートを選択します。

```text
Select a Workspace Config To View
1 item
MyWorkspaceConfig
https://github.com/username/MyWorkspace
```

   ワークスペーステンプレートを選択すると、Daytona は選択したテンプレートの詳細を表示します。ワークスペーステンプレート名、リンクされているリポジトリのURL、ビルド構成、Devcontainerパスを確認できます。

```text
Workspace Config Info
Name                    MyWorkspaceConfig
Repository              https://github.com/username/MyWorkspace
Build                   Devcontainer
Devcontainer path       .devcontainer/devcontainer.json
```

## デフォルトのワークスペーステンプレートを設定する

Daytona では、デフォルトのワークスペーステンプレートを設定するオプションが用意されており、新しいワークスペースを作成する際にデフォルトで使用されるテンプレートを定義できます。

1. 次のコマンドを実行して、デフォルトのワークスペーステンプレートを設定します。

```shell
daytona workspace-template set-default
```

2. デフォルトとして設定したいワークスペーステンプレートを選択します。

```text
デフォルトとして設定するワークスペーステンプレートを選択してください
1 item
MyWorkspaceTemplate
https://github.com/username/MyWorkspace
```

デフォルトのワークスペーステンプレートを選択すると、Daytona は新しいワークスペースのデフォルトテンプレートとしてそれを設定します。

```text
ワークスペーステンプレート 'MyWorkspaceTemplate' がデフォルトに設定されました
```

3. ワークスペーステンプレートのプロパティを更新します。

```text
ビルド構成を選択してください
自動
Devcontainer
カスタムイメージ
なし
```

```text
環境変数
環境変数は KEY=VALUE の形式で入力してください
実行時にマシンの環境変数を渡すには $VALUE を使用してください
```

完了すると、Daytona は更新されたワークスペーステンプレートを保存し、ワークスペース間で再利用できるようになります。

```text
ワークスペーステンプレートが正常に更新されました
```

## ワークスペーステンプレートのインポート

Daytona では、ワークスペーステンプレートをインポートするオプションが用意されており、既存のワークスペースのプロパティを複数のワークスペースで再利用できます。

1. 次のコマンドを実行してワークスペーステンプレートをインポートします。

```shell
daytona workspace-template import
```

2. ワークスペーステンプレートを JSON オブジェクト、または JSON オブジェクトの配列として入力します。

```text
ワークスペーステンプレートのインポート
ワークスペーステンプレートを JSON オブジェクトまたは JSON オブジェクトの配列として入力してください
```

- JSON オブジェクトプロパティ形式の空の例：

```json
[
  {
    "buildConfig": {},
    "default": true,
    "envVars": {},
    "image": "",
    "labels": null,
    "name": "",
    "repositoryUrl": "",
    "user": ""
  }
]
```

## ワークスペーステンプレートのエクスポート

Daytona では、ワークスペーステンプレートをエクスポートするオプションが用意されており、ワークスペーステンプレートのプロパティを JSON オブジェクトとして保存できます。

1. 次のコマンドを実行して、ワークスペーステンプレートをエクスポートします。

```shell
daytona workspace-template export
```

2. エクスポートしたいワークスペーステンプレートを選択します。

```text
エクスポートするワークスペーステンプレートを選択
1 item
MyWorkspaceTemplate
https://github.com/username/repository
```

エクスポートしたいワークスペーステンプレートを選択すると、Daytona は選択したテンプレートのプロパティを JSON オブジェクトとして出力します。

```json
[
  {
    "buildConfig": {},
    "default": true,
    "envVars": {},
    "image": "daytonaio/workspace-project:latest",
    "labels": null,
    "name": "MyWorkspaceTemplate",
    "repositoryUrl": "https://github.com/username/repository",
    "user": "daytona"
  }
]
```
